{"version":3,"file":"ngx-lite-util.js.map","sources":["ng://@ngx-lite/util/public_api.ts"],"sourcesContent":["export enum KeyCodes {\r\n  LeftArrow = 37,\r\n  UpArrow = 38,\r\n  RightArrow = 39,\r\n  DownArrow = 40,\r\n  Backspace = 8,\r\n  Tab = 9,\r\n  Enter = 13,\r\n  Escape = 27\r\n}\r\n\r\nexport function trapTabFocus(elm: HTMLElement) {\r\n  const focusableEls = elm.querySelectorAll(\r\n    'a, object, input, button, iframe, [tabindex]'\r\n  );\r\n  const firstFocusableEl = focusableEls[0] as HTMLElement;\r\n  const lastFocusableEl = focusableEls[focusableEls.length - 1] as HTMLElement;\r\n\r\n  // if just a single focusable item focus it\r\n  if (firstFocusableEl) {\r\n    firstFocusableEl.focus();\r\n  }\r\n\r\n  // if two or more focusable items create focus loop\r\n  if (firstFocusableEl && lastFocusableEl) {\r\n    elm.addEventListener('keydown', e => {\r\n      const isTabPressed = e.key === 'Tab' || e.keyCode === KeyCodes.Tab;\r\n\r\n      if (!isTabPressed) {\r\n        return;\r\n      }\r\n\r\n      if (e.shiftKey && document.activeElement === firstFocusableEl) {\r\n        lastFocusableEl.focus();\r\n        e.preventDefault();\r\n      } else {\r\n        if (document.activeElement === lastFocusableEl) {\r\n          firstFocusableEl.focus();\r\n          e.preventDefault();\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function isBrowser() {\r\n  return typeof window !== 'undefined';\r\n}\r\n\r\nexport function lockScroll() {\r\n  if (isBrowser()) {\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n}\r\n\r\nexport function unlockScroll() {\r\n  if (isBrowser()) {\r\n    document.body.style.overflow = 'initial';\r\n  }\r\n}\r\n\r\nexport function ariaHideBody() {\r\n  if (isBrowser()) {\r\n    document.body.setAttribute('aria-hidden', 'true');\r\n  }\r\n}\r\n\r\nexport function ariaShowBody() {\r\n  if (isBrowser()) {\r\n    document.body.setAttribute('aria-hidden', 'false');\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;IACE,aAAc;IACd,WAAY;IACZ,cAAe;IACf,aAAc;IACd,YAAa;IACb,MAAO;IACP,SAAU;IACV,UAAW;;kBAPX,SAAS;kBACT,OAAO;kBACP,UAAU;kBACV,SAAS;kBACT,SAAS;kBACT,GAAG;kBACH,KAAK;kBACL,MAAM;;;;;AAGR,SAAgB,YAAY,CAAC,GAAgB;;IAC3C,IAAM,YAAY,GAAG,GAAG,CAAC,gBAAgB,CACvC,8CAA8C,CAC/C,CAAC;;IACF,IAAM,gBAAgB,qBAAG,YAAY,CAAC,CAAC,CAAgB,EAAC;;IACxD,IAAM,eAAe,qBAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAgB,EAAC;;IAG7E,IAAI,gBAAgB,EAAE;QACpB,gBAAgB,CAAC,KAAK,EAAE,CAAC;KAC1B;;IAGD,IAAI,gBAAgB,IAAI,eAAe,EAAE;QACvC,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAA,CAAC;;YAC/B,IAAM,YAAY,GAAG,CAAC,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC,OAAO,KAAK,QAAQ,CAAC,GAAG,CAAC;YAEnE,IAAI,CAAC,YAAY,EAAE;gBACjB,OAAO;aACR;YAED,IAAI,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,aAAa,KAAK,gBAAgB,EAAE;gBAC7D,eAAe,CAAC,KAAK,EAAE,CAAC;gBACxB,CAAC,CAAC,cAAc,EAAE,CAAC;aACpB;iBAAM;gBACL,IAAI,QAAQ,CAAC,aAAa,KAAK,eAAe,EAAE;oBAC9C,gBAAgB,CAAC,KAAK,EAAE,CAAC;oBACzB,CAAC,CAAC,cAAc,EAAE,CAAC;iBACpB;aACF;SACF,CAAC,CAAC;KACJ;CACF;;;;AAED,SAAgB,SAAS;IACvB,OAAO,OAAO,MAAM,KAAK,WAAW,CAAC;CACtC;;;;AAED,SAAgB,UAAU;IACxB,IAAI,SAAS,EAAE,EAAE;QACf,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACzC;CACF;;;;AAED,SAAgB,YAAY;IAC1B,IAAI,SAAS,EAAE,EAAE;QACf,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;KAC1C;CACF;;;;AAED,SAAgB,YAAY;IAC1B,IAAI,SAAS,EAAE,EAAE;QACf,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;KACnD;CACF;;;;AAED,SAAgB,YAAY;IAC1B,IAAI,SAAS,EAAE,EAAE;QACf,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;KACpD;CACF;;;;;;;;;"}
